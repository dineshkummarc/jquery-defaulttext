/*!
 * jQuery Default (placeholder) Text Plugin for inputs v1.4
 *
 * Date: Wed Sep 28 14:48:57 2011 EDT
 * Requires: jQuery v1.3+
 *
 * Copyright 2011, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *
 *
 *
*/
(function(a){if(typeof a.fn.defaulttext==="undefined"){a.fn.defaulttext=function(h){function i(d,g){clearTimeout(l);var e=a(d.target),c=e.data("dtInfo");if(!c)return false;e.data("dtFocused",true);if(c.aniProps&&g!=="skip")e.prev().show().animate(c.aniProps,c.aniSpeed,c.focusComplete);else{e.prev().hide();g!=="skip"&&c.focusComplete.call(d.target)}}function k(d,g){clearTimeout(l);var e,c,b=a(d.target),f=b.data("dtInfo");if(!f)return false;e=b.prev(f.prevClass||"");c=a.trim(b.val())==="";b.removeData("dtFocused");
if(f.currProps&&g!=="skip")e.animate(f.currProps,f.aniSpeed,f.blurComplete);else g!=="skip"&&f.blurComplete.call(d.target);c?e.show():e.hide()}var j=this.filter(":dtinput");if(!j.length)return this;h=a.extend(true,a.fn.defaulttext.defaults,h||{});var l,o={title:function(d){return a(d).attr("title")},placeholder:function(d){return a(d).attr("placeholder")},label:function(d){return a("label[for="+d.id+"]").html()}},m=this.closest("form");m.data("defaulttext")||m.data("defaulttext",true);j.each(function(){var d,
g,e={},c=a(this),b=a.extend({},a.fn.defaulttext.defaults,h,a.metadata?c.metadata():a.meta?c.data():{});b.prevClass=b.defaultClass?"."+b.defaultClass:"";if(b.text&&b.text.constructor===Function)b.text=b.text.call(this);else if(typeof b.text==="string"){b.text==="label"&&a("label[for= "+this.id+"]").css({position:"absolute",left:"-4000em"});b.text=/(title|label|placeholder)/.test(b.text)?o[b.text](this):b.text}if(!(!b.text||a.support.placeholder&&this.placeholder&&this.placeholder.length)){c.parent().css("position")==
"static"&&c.parent().css({position:"relative"});g=a(b.tag).html(b.text).addClass(b.defaultClass).css({position:"absolute",top:c.position().top,left:c.position().left,width:c.width(),display:"none"}).insertBefore(c);if(b.aniProps){d=b.aniProps||{};a.each(d,function(f){e[f]=g.css(f)});b.currProps=e;b.aniSpeed="aniSpeed"in b?b.aniSpeed:400}c.data("dtInfo",b);b.showOnHover&&c.parent().bind("mouseenter.dt mouseleave.dt",function(f){a.trim(c.val())!==""&&!c.data("dtFocused")&&c.prev().toggle(f.type=="mouseenter")})}});
j.bind("focus.dt",i);j.bind("blur.dt",k);j.prev().bind("click.dt",function(){a(this).next().trigger("focus.dt")});a(document).bind("focusText.dt",i).bind("blurText.dt",k);a(window).bind("load",function(){setTimeout(function(){j.each(function(){i({target:this},"skip");k({target:this},"skip")})},150)});return this};a.noop=a.noop||function(){};a.fn.defaulttext.defaults={tag:"<span></span>",defaultClass:"default-text",text:"placeholder",focusComplete:a.noop,blurComplete:a.noop,showOnHover:false};a.extend(a.expr[":"],
{dtinput:function(h){var i=h.nodeName.toLowerCase();return i==="input"&&!/hidden|file|checkbox|radio/i.test(h.type)||i==="textarea"}});var n=document.createElement("input");a.extend(a.support,{placeholder:"placeholder"in n});n=null}})(jQuery);
